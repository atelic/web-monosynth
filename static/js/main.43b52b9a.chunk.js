(this["webpackJsonpweb-synth"]=this["webpackJsonpweb-synth"]||[]).push([[0],{139:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(7),l=a.n(o),i=(a(79),a(80),a(11)),c=a(66),r=a(67),u=a(72),d=a(68),m=a(73),v=a(22),y=a.n(v),f=a(13),h={65:{0:16.35,1:32.7,2:65.41,3:130.81,4:261.63,5:523.25},87:{0:17.32,1:34.65,2:69.3,3:138.59,4:277.18,5:554.37},83:{0:18.35,1:36.71,2:73.42,3:146.83,4:293.66,5:587.33},69:{0:19.45,1:38.89,2:77.78,3:155.56,4:311.13,5:622.25},68:{0:20.6,1:41.2,2:82.41,3:164.81,4:329.63,5:659.25},70:{0:21.83,1:43.65,2:87.31,3:174.61,4:349.23,5:698.46},84:{0:23.12,1:46.25,2:92.5,3:185,4:369.99,5:739.99},71:{0:24.5,1:49,2:98,3:196,4:392,5:783.99},89:{0:25.96,1:51.91,2:103.83,3:207.65,4:415.3,5:830.61},72:{0:27.5,1:55,2:110,3:220,4:440,5:880},85:{0:29.14,1:58.27,2:116.54,3:233.08,4:466.16,5:932.33},74:{0:30.87,1:61.74,2:123.47,3:246.94,4:493.88,5:987.77},75:{0:32.7,1:65.41,2:130.81,3:261.63,4:523.25,5:1046.5},79:{0:34.65,1:69.3,2:138.59,3:277.18,4:554.37,5:1108.73},76:{0:36.71,1:73.42,2:146.83,3:293.66,4:587.33,5:1174.66}},w=function(e){var t=e.classNames,a=e.onMouseDown,n=e.onMouseUp,o=e.children,l=e.keyCode,i=e.activeKeyCode;return s.a.createElement("div",{className:"".concat(t," ").concat(i===l?"active":""),onMouseDown:function(){return a(l)},onMouseUp:function(){return n()}},o)},k=(a(139),function(e){var t=e.activeKeyCode,a=e.onMouseDown,n=e.onMouseUp;return s.a.createElement("div",{className:"keyboard"},s.a.createElement(w,{classNames:"div1 white-key",keyCode:65,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"C"),s.a.createElement(w,{classNames:"div2 white-key",keyCode:83,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"D"),s.a.createElement(w,{classNames:"div3 white-key",keyCode:68,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"E"),s.a.createElement(w,{classNames:"div4 white-key",keyCode:70,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"F"),s.a.createElement(w,{classNames:"div5 white-key",keyCode:71,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"G"),s.a.createElement(w,{classNames:"div6 white-key",keyCode:72,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"A"),s.a.createElement(w,{classNames:"div7 white-key",keyCode:74,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"B"),s.a.createElement(w,{classNames:"div8 white-key",keyCode:75,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"C"),s.a.createElement(w,{classNames:"div9 white-key",keyCode:76,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"D"),s.a.createElement(w,{classNames:"div10 black-key",keyCode:87,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"C#"),s.a.createElement(w,{classNames:"div11 black-key",keyCode:69,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"D#"),s.a.createElement(w,{classNames:"div12 black-key",keyCode:84,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"F#"),s.a.createElement(w,{classNames:"div13 black-key",keyCode:89,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"G#"),s.a.createElement(w,{classNames:"div14 black-key",keyCode:85,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"A#"),s.a.createElement(w,{classNames:"div15 black-key",keyCode:79,activeKeyCode:t,onMouseDown:a,onMouseUp:n},"C#"))}),E=(a(140),a(141),{type:"sine",release:.6,volume:.75}),p=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).lowpass=function(e){console.log("not implemented")},a.distort=function(e){if(0===e)a.setState({effects:Object(i.a)({},a.state.effects,{distortion:null}),distortionGain:0});else{var t=new y.a.Effects.Distortion({gain:e});a.setState({effects:Object(i.a)({},a.state.effects,{distortion:t}),distortionGain:e})}},a.volume=function(e){a.wave.volume=e},a.attack=function(e){a.wave.attack=e},a.release=function(e){a.wave.release=e},a.delayTime=function(e){var t=new y.a.Effects.Delay(Object(i.a)({},a.state.delayValues,{time:e}));a.setState({effects:Object(i.a)({},a.state.effects,{delay:t}),delayValues:Object(i.a)({},a.state.delayValues,{time:e})})},a.delayFeedback=function(e){var t=new y.a.Effects.Delay(Object(i.a)({},a.state.delayValues,{feedback:e}));a.setState({effects:Object(i.a)({},a.state.effects,{delay:t}),delayValues:Object(i.a)({},a.state.delayValues,{feedback:e})})},a.delayMix=function(e){var t=new y.a.Effects.Delay(Object(i.a)({},a.state.delayValues,{mix:e}));a.setState({effects:Object(i.a)({},a.state.effects,{delay:t}),delayValues:Object(i.a)({},a.state.delayValues,{mix:e})})},a.handleWaveChange=function(e){a.wave=new y.a.Sound({source:"wave",options:{type:e.target.value,release:.6}}),a.addEffects()},a.addEffects=function(){for(var e in a.wave.effects.length=0,a.state.effects){var t=a.state.effects[e];t&&a.wave.addEffect(t)}},a.state={activeKeyCode:null,octave:3,distortionGain:0,waveShape:"sine",delayValues:{mix:0,time:.4,feedback:.2},effects:{lowpassFilter:null,distortion:null,delay:null}},a.wave=new y.a.Sound({source:"wave",frequency:440,options:E}),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"playNote",value:function(e){var t=this;this.wave.frequency=h[e][this.state.octave],this.wave.play(),this.setState({activeKeyCode:e},(function(){return console.log(t.state)}))}},{key:"stopNote",value:function(){this.setState({activeKeyCode:null}),this.wave.stop()}},{key:"handleKeyDown",value:function(e){(-1!==Object.keys(h).indexOf(e.keyCode.toString())&&this.playNote(e.keyCode),90===e.keyCode)&&(this.state.octave-1>=0&&this.setState({octave:this.state.octave-1}));if(88===e.keyCode){var t=this.state.octave+1;t<=5&&this.setState({octave:t})}}},{key:"handleKeyUp",value:function(e){-1!==Object.keys(h).indexOf(e.keyCode.toString())&&this.stopNote()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",this.handleKeyUp.bind(this))}},{key:"render",value:function(){var e=this;return this.addEffects(),console.log(this.wave.effects),s.a.createElement("div",{className:"App"},s.a.createElement("h3",null,"Play using your keyboard! Change octave with Z and X"),s.a.createElement("div",{className:"master"},s.a.createElement("h2",null,"Master:"),s.a.createElement("div",{className:"master-wave"},s.a.createElement("label",{htmlFor:"wave-select"},"Waveform:"),s.a.createElement("br",null),s.a.createElement("select",{id:"wave-select",onChange:this.handleWaveChange,value:this.waveShape},s.a.createElement("option",{value:"sine"},"Sine"),s.a.createElement("option",{value:"square"},"Square"),s.a.createElement("option",{value:"triangle"},"Triangle"),s.a.createElement("option",{value:"sawtooth"},"Sawtooth"))),s.a.createElement("div",{className:"master-volume"},"Volume",s.a.createElement(f.a,{max:1,min:0,step:.01,defaultValue:1,onChange:function(t){return e.volume(t)}})),s.a.createElement("div",{className:"master-attack"},"Attack",s.a.createElement(f.a,{max:10,min:0,step:.01,defaultValue:.04,onChange:function(t){return e.attack(t)}})),s.a.createElement("div",{className:"master-release"},"Release",s.a.createElement(f.a,{max:10,min:0,step:.01,defaultValue:.04,onChange:function(t){return e.release(t)}}))),s.a.createElement("div",{className:"filters"},s.a.createElement("h2",null,"Filters:"),s.a.createElement("p",null,"(Not working)"),s.a.createElement("div",{className:"filters-lowpass"},"Low pass filter:",s.a.createElement(f.a,{max:22050,min:10,defaultValue:this.state.filterFreq,onChange:function(t){return e.lowpass(t)}})),s.a.createElement("div",{className:"filters-highpass"},"High pass filter:",s.a.createElement(f.a,{max:22050,min:10,defaultValue:10}))),s.a.createElement("div",{className:"reverb"},s.a.createElement("h2",null,"Reverb")),s.a.createElement(k,{onMouseDown:this.playNote.bind(this),onMouseUp:this.stopNote.bind(this),activeKeyCode:this.state.activeKeyCode}),s.a.createElement("div",{className:"delay"},s.a.createElement("h2",null,"Delay"),s.a.createElement("div",{className:"delay-time"},"Time: ",this.state.delayValues.time," sec",s.a.createElement(f.a,{max:1,min:0,step:.01,defaultValue:this.state.delayValues.time,onChange:function(t){return e.delayTime(t)}})),s.a.createElement("div",{className:"delay-feedback"},"Feedback: ",100*this.state.delayValues.feedback,"%",s.a.createElement(f.a,{max:1,min:0,step:.01,defaultValue:this.state.delayValues.feedback,onChange:function(t){return e.delayFeedback(t)}})),s.a.createElement("div",{className:"delay-mix"},"Mix: ",100*this.state.delayValues.mix,"%",s.a.createElement(f.a,{max:1,min:0,step:.01,defaultValue:this.state.delayValues.mix,onChange:function(t){return e.delayMix(t)}}))),s.a.createElement("div",{className:"distortion"},s.a.createElement("h2",null,"Distortion"),"Gain: ",100*this.state.distortionGain,"%",s.a.createElement(f.a,{max:1,min:0,step:.01,defaultValue:this.state.distortionGain,onChange:function(t){return e.distort(t)}})))}}]),t}(s.a.Component);var C=function(){return s.a.createElement(p,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},74:function(e,t,a){e.exports=a(142)},79:function(e,t,a){},80:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.43b52b9a.chunk.js.map